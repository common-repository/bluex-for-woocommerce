jQuery(function(t){if("undefined"==typeof wc_country_select_params||"undefined"==typeof wc_city_select_params)return!1;if(t().select2){var n=function(){t("select.city_select:visible").each(function(){var n=t.extend({placeholderOption:"first",width:"100%"},{formatMatches:function(t){return 1===t?wc_country_select_params.i18n_matches_1:wc_country_select_params.i18n_matches_n.replace("%qty%",t)},formatNoMatches:function(){return wc_country_select_params.i18n_no_matches},formatAjaxError:function(){return wc_country_select_params.i18n_ajax_error},formatInputTooShort:function(t,n){var e=n-t.length;return 1===e?wc_country_select_params.i18n_input_too_short_1:wc_country_select_params.i18n_input_too_short_n.replace("%qty%",e)},formatInputTooLong:function(t,n){var e=t.length-n;return 1===e?wc_country_select_params.i18n_input_too_long_1:wc_country_select_params.i18n_input_too_long_n.replace("%qty%",e)},formatSelectionTooBig:function(t){return 1===t?wc_country_select_params.i18n_selection_too_long_1:wc_country_select_params.i18n_selection_too_long_n.replace("%qty%",t)},formatLoadMore:function(){return wc_country_select_params.i18n_load_more},formatSearching:function(){return wc_country_select_params.i18n_searching}});t(this).select2(n)})};n(),t(document.body).bind("city_to_select",function(){n()})}var e=wc_city_select_params.cities.replace(/&quot;/g,'"'),i=t.parseJSON(e);function o(t){if(t.is("input")){t.prop("disabled",!1);return}var n=t.attr("name"),e=t.attr("id"),i=t.attr("placeholder");t.parent().find(".select2-container").remove(),t.replaceWith('<input type="text" class="input-text" name="'+n+'" id="'+e+'" placeholder="'+i+'" />')}function a(n,e){var i=n.val();if(n.is("input")){var o=n.attr("name"),a=n.attr("id"),r=n.attr("placeholder");n.replaceWith('<select name="'+o+'" id="'+a+'" class="city_select" placeholder="'+r+'"></select>'),n=t("#"+a)}else n.prop("disabled",!1);var c="";for(var l in e)if(e.hasOwnProperty(l)){var s=e[l];c=c+'<option value="'+s+'">'+s+"</option>"}n.html('<option value="">'+wc_city_select_params.i18n_select_city_text+"</option>"+c),t('option[value="'+i+'"]',n).length?n.val(i).change():n.val("").change(),t(document.body).trigger("city_to_select")}t("body").on("country_to_state_changing",function(n,e,i){var o=i.find("#billing_state, #shipping_state, #calc_shipping_state").val();t(document.body).trigger("state_changing",[e,o,i])}),t("body").on("change","select.state_select, #calc_shipping_state",function(){var n=t(this).closest("div"),e=n.find("#billing_country, #shipping_country, #calc_shipping_country").val(),i=t(this).val();t(document.body).trigger("state_changing",[e,i,n])}),t("body").on("state_changing",function(t,n,e,r){var c,l=r.find("#billing_city, #shipping_city, #calc_shipping_city");i[n]?i[n]instanceof Array?a(l,i[n]):e?i[n][e]?a(l,i[n][e]):o(l):(c=l,c.val("").change(),c.prop("disabled",!0)):o(l)}),t(".cart-collaterals").length&&t("#calc_shipping_state").length&&new MutationObserver(function(){t("#calc_shipping_state").change()}).observe(document.querySelector(".cart-collaterals"),{childList:!0})});